:PROPERTIES:
:ID: second-brain-backend
:END:

#+html: <div align='center'>
#+html: <img src='./images/image.png' width='256px' height='256px'>
#+html: </div>

#+TITLE: ‚ú® Second brain backend.

#+html: <div align='center'>
#+html: <span class='badge-buymeacoffee'>
#+html: <a href='https://www.paypal.me/darkawower' title='Paypal' target='_blank'><img src='https://img.shields.io/badge/paypal-donate-blue.svg' alt='Buy Me A Coffee donate button' /></a>
#+html: </span>
#+html: <span class='badge-patreon'>
#+html: <a href='https://patreon.com/artawower' target='_blank' title='Donate to this project using Patreon'><img src='https://img.shields.io/badge/patreon-donate-orange.svg' alt='Patreon donate button' /></a>
#+html: </span>
#+html: <a href='https://wakatime.com/badge/github/Artawower/second-brain-backend'><img src='https://wakatime.com/badge/github/Artawower/second-brain-backend.svg' alt='wakatime'></a>
#+html: </div>

* üå± Introduction
This project is part of [[https://github.com/Artawower/second-brain][second brain project]]. It is a backend part based on the [[https://gofiber.io/][GO fiber]] framework.
* üçª Connected links
- [[http://65.108.90.95/api/v1/swagger/index.html][Swagger schema]] 
- [[https://github.com/Artawower/second-brain][Main repo]]
- [[https://github.com/Artawower/second-brain-client][Second brain frontend]] 
- [[https://en.wikipedia.org/wiki/Zettelkasten][About Zettelkasten approach]] 
- [[https://gofiber.io/][GO fiber framework]]
- [[https://github.com/swaggo/swag][GO swagger library]] 

* ‚öôÔ∏è Install
** Environment variables
- ~MONGO_USERNAME~
- ~MONGO_URL~
- ~MONGO_PASSWORD~
- ~MONGO_PORT~
- ~APP_ADDRESS~ - Current application address
- ~GITHUB_ID~ - github id for oauth
- ~GITHUB_SECRET~ - github secret for oauth
- ~BACKEND_DOMAIN~ - backend domain address
- ~BACKEND_SCHEMA~ - backend schema (http/https)
- ~BACKEND_PORT~ - backend port
- ~CLIENT_ADDRESS~ - client address for oauth redirect
- ~ACCESS_CHECK_URL~ - url address for checking access to the backend. For self hosted systems this values should not be provided
- ~ACCESS_CHECK_TOKEN~ - Auth token for request to ~ACCESS_CHECK_URL~. Will be added into ~Authorization~ header

** Local development
Make sure that you have 
#+BEGIN_SRC bash
git clone git@github.com:Artawower/second-brain-backend.git && cd second-brain-backend
#+END_SRC

Make sure the correct ~.env~ file is in the `second-brain-client' directory.

#+BEGIN_SRC bash
docker-compose -f docker-compose.db.yaml -f docker-compose.dev.yaml up --build
#+END_SRC
** Swagger
The swagger path is {{HOST}}/v1/swagger/index.html
for example: http://localhost:8000/v1/swagger/index.html

* üç© Contribute guide
Any contribution is very much appreciated! Please read the [[./CONTRIBUTE.org][style guide]] before contributing to avoid misunderstandings!
Also, the project exists solely on donations. I would appreciate it if you would join my patreon.

** Access checker
What is an access checker?
It is an external web service accessible by ~ACCESS_CHECK_URL~. It is used to verify access to the backend. For self-hosted systems, this value should not be provided unless you have the service implemented. In this case, anyone can access the backend.

This backend service should provide next endpoints:

- =/api/subscription-info= - information about subscription
#+BEGIN_SRC json
{
  "email": "string",
  "spaceLimit": "bytes",
  "isActive": "boolean"
}
#+END_SRC
